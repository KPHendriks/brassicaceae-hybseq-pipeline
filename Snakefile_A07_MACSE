configfile: "./envs/macse.yaml"

macse_AA_variables = expand("results/A13_prot_alignments/{exon}_AA.fasta", exon=config["exons_AA"])
masce_NT_variables = expand("results/A13_prot_alignments/{exon}_NT.fasta", exon=config["exons_NT"])


rule all:
    input:
        macse_AA_variables,
        masce_NT_variables

rule macse:
    input:
         macse = "src/macse_v1.2.jar",
         fasta = "results/A12_trimmed_alignments/{exon}.fasta"
    output:
         NT = "results/A13_prot_alignments/{exon}_NT.fasta",
         AA = "results/A13_prot_alignments/{exon}_AA.fasta"
    shell:
         "java -jar {input.macse} -prog alignSequences -seq {input.fasta} -out_NT {output.NT} -out_AA {output.AA}"

rule trim_prot_alignments:
    input:
        "src/trim_prot_alignments.py"
    output:
        NT = "resuts/A14_trimmed_prot/{exon}_NT.fasta",
        AA = "results/A14_trimmed_prot/{exon}_aa.fasta"
    shell:
        "python {input}"
